var we=Object.defineProperty;var Ie=(t,e,a)=>e in t?we(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var u=(t,e,a)=>Ie(t,typeof e!="symbol"?e+"":e,a);import{r as M,a as w,b as I,c as F,_ as ne,d as Fe,j as r,C as Ee,L as te,M as Te,P as ke,e as re,S as Le,F as v,B as g,I as D,f as Ne,g as Pe,T as je,h as ze,D as He,i as Ue}from"./vendor_antd-Vv3IfrnL.js";import{i as Be,r as E,g as T,b as c,u as Ye,j as We,k as Ke,l as Ve}from"./vendor_react-CMAun2fU.js";import{m as Q,a as Je,o as G}from"./vendor-5yjeIBVc.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=a(n);fetch(n.href,s)}})();var k={},se;function Qe(){if(se)return k;se=1;var t=Be();return k.createRoot=t.createRoot,k.hydrateRoot=t.hydrateRoot,k}var Ge=Qe(),L={exports:{}},R={},N={},oe;function Xe(){if(oe)return N;oe=1,Object.defineProperty(N,"__esModule",{value:!0});var t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"};return N.default=t,N}var le;function Ze(){if(le)return R;le=1;var t=M().default,e=w().default;Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var a=e(I()),o=t(E()),n=e(Xe()),s=e(F()),l=function(p,d){return o.createElement(s.default,(0,a.default)({},p,{ref:d,icon:n.default}))},i=o.forwardRef(l);return R.default=i,R}var ie;function et(){return ie||(ie=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const a=o(Ze());function o(s){return s&&s.__esModule?s:{default:s}}const n=a;e.default=n,t.exports=n}(L,L.exports)),L.exports}var tt=et();const rt=T(tt);var at={items_per_page:"/ página",jump_to:"Vá até",jump_to_confirm:"confirme",page:"Página",prev_page:"Página anterior",next_page:"Próxima página",prev_5:"5 páginas anteriores",next_5:"5 próximas páginas",prev_3:"3 páginas anteriores",next_3:"3 próximas páginas",page_size:"tamanho da página"},nt=ne(ne({},Fe),{},{locale:"pt_BR",today:"Hoje",now:"Agora",backToToday:"Voltar para hoje",ok:"OK",clear:"Limpar",month:"Mês",year:"Ano",timeSelect:"Selecionar hora",dateSelect:"Selecionar data",monthSelect:"Escolher mês",yearSelect:"Escolher ano",decadeSelect:"Escolher década",dateFormat:"D/M/YYYY",dateTimeFormat:"D/M/YYYY HH:mm:ss",monthBeforeYear:!1,previousMonth:"Mês anterior (PageUp)",nextMonth:"Próximo mês (PageDown)",previousYear:"Ano anterior (Control + esquerda)",nextYear:"Próximo ano (Control + direita)",previousDecade:"Década anterior",nextDecade:"Próxima década",previousCentury:"Século anterior",nextCentury:"Próximo século",shortWeekDays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]});const $e={placeholder:"Hora"},ue={lang:Object.assign({placeholder:"Selecionar data",rangePlaceholder:["Data inicial","Data final"]},nt),timePickerLocale:Object.assign({},$e)},h="${label} não é um ${type} válido",st={locale:"pt-br",Pagination:at,DatePicker:ue,TimePicker:$e,Calendar:ue,global:{placeholder:"Por favor escolha"},Table:{filterTitle:"Menu de Filtro",filterConfirm:"OK",filterReset:"Resetar",filterEmptyText:"Sem filtros",filterCheckall:"Selecionar todos os itens",filterSearchPlaceholder:"Pesquisar nos filtros",emptyText:"Sem conteúdo",selectAll:"Selecionar página atual",selectInvert:"Inverter seleção",selectNone:"Apagar todo o conteúdo",selectionAll:"Selecionar todo o conteúdo",sortTitle:"Ordenar título",expand:"Expandir linha",collapse:"Colapsar linha",triggerDesc:"Clique organiza por descendente",triggerAsc:"Clique organiza por ascendente",cancelSort:"Clique para cancelar organização"},Tour:{Next:"Próximo",Previous:"Anterior",Finish:"Finalizar"},Modal:{okText:"OK",cancelText:"Cancelar",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancelar"},Transfer:{titles:["",""],searchPlaceholder:"Procurar",itemUnit:"item",itemsUnit:"items",remove:"Remover",selectCurrent:"Selecionar página atual",removeCurrent:"Remover página atual",selectAll:"Selecionar todos",removeAll:"Remover todos",selectInvert:"Inverter seleção atual"},Upload:{uploading:"Enviando...",removeFile:"Remover arquivo",uploadError:"Erro no envio",previewFile:"Visualizar arquivo",downloadFile:"Baixar arquivo"},Empty:{description:"Não há dados"},Icon:{icon:"ícone"},Text:{edit:"editar",copy:"copiar",copied:"copiado",expand:"expandir"},Form:{optional:"(opcional)",defaultValidateMessages:{default:"Erro ${label} na validação de campo",required:"Por favor, insira ${label}",enum:"${label} deve ser um dos seguinte: [${enum}]",whitespace:"${label} não pode ser um carácter vazio",date:{format:" O formato de data ${label} é inválido",parse:"${label} não pode ser convertido para uma data",invalid:"${label} é uma data inválida"},types:{string:h,method:h,array:h,object:h,number:h,date:h,boolean:h,integer:h,float:h,regexp:h,email:h,url:h,hex:h},string:{len:"${label} deve possuir ${len} caracteres",min:"${label} deve possuir ao menos ${min} caracteres",max:"${label} deve possuir no máximo ${max} caracteres",range:"${label} deve possuir entre ${min} e ${max} caracteres"},number:{len:"${label} deve ser igual à ${len}",min:"O valor mínimo de ${label} é ${min}",max:"O valor máximo de ${label} é ${max}",range:"${label} deve estar entre ${min} e ${max}"},array:{len:"Deve ser ${len} ${label}",min:"No mínimo ${min} ${label}",max:"No máximo ${max} ${label}",range:"A quantidade de ${label} deve estar entre ${min} e ${max}"},pattern:{mismatch:"${label} não se encaixa no padrão ${pattern}"}}},Image:{preview:"Pré-visualização"}};var z={exports:{}},q={},H={},ce;function ot(){if(ce)return H;ce=1,Object.defineProperty(H,"__esModule",{value:!0});var t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};return H.default=t,H}var de;function lt(){if(de)return q;de=1;var t=M().default,e=w().default;Object.defineProperty(q,"__esModule",{value:!0}),q.default=void 0;var a=e(I()),o=t(E()),n=e(ot()),s=e(F()),l=function(p,d){return o.createElement(s.default,(0,a.default)({},p,{ref:d,icon:n.default}))},i=o.forwardRef(l);return q.default=i,q}var pe;function it(){return pe||(pe=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const a=o(lt());function o(s){return s&&s.__esModule?s:{default:s}}const n=a;e.default=n,t.exports=n}(z,z.exports)),z.exports}var ut=it();const ct=T(ut);var U={exports:{}},S={},B={},me;function dt(){if(me)return B;me=1,Object.defineProperty(B,"__esModule",{value:!0});var t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};return B.default=t,B}var fe;function pt(){if(fe)return S;fe=1;var t=M().default,e=w().default;Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var a=e(I()),o=t(E()),n=e(dt()),s=e(F()),l=function(p,d){return o.createElement(s.default,(0,a.default)({},p,{ref:d,icon:n.default}))},i=o.forwardRef(l);return S.default=i,S}var he;function mt(){return he||(he=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const a=o(pt());function o(s){return s&&s.__esModule?s:{default:s}}const n=a;e.default=n,t.exports=n}(U,U.exports)),U.exports}var ft=mt();const ht=T(ft);var J=(t=>(t.HOME="/",t.POSTS="/posts",t.AUTHORS="/authors",t))(J||{});const Re={posts:{id:"posts",name:"Postagens",path:"/posts",icon:ct},authors:{id:"authors",name:"Autores",path:"/authors",icon:ht}};class vt{constructor(){u(this,"collapsed",!0);u(this,"setCollapsed",e=>{this.collapsed=e});Q(this)}}const _=Je.create({baseURL:"https://modular-server.onrender.com",proxy:!1});class b{}u(b,"getAll",async e=>{const{data:a}=await _.get(`/posts${e?`?authorName=${e}`:""}`,{headers:{"Content-Type":"application/json"}});return a}),u(b,"create",async(e,a)=>{const{data:o}=await _.post(`/authors/${e}/posts`,a,{headers:{"Content-Type":"application/json"}});return o}),u(b,"delete",async e=>{await _.delete(`/posts/${e}`)});class xt{constructor(e){u(this,"mainStore");u(this,"getAll",async e=>{try{return await b.getAll(e)}catch(a){return this.mainStore.setErrorFromAxios(a),[]}});u(this,"create",async(e,a)=>{try{return await b.create(e,a)}catch(o){return this.mainStore.setErrorFromAxios(o),null}});u(this,"delete",async e=>{try{await b.delete(e)}catch(a){this.mainStore.setErrorFromAxios(a)}});Q(this,{mainStore:!1}),this.mainStore=e}}class P{}u(P,"getAll",async()=>{const{data:e}=await _.get("/authors",{headers:{"Content-Type":"application/json"}});return e}),u(P,"create",async e=>{const{data:a}=await _.post("/authors",e,{headers:{"Content-Type":"application/json"}});return a}),u(P,"delete",async e=>{await _.delete(`/authors/${e}`)});class gt{constructor(e){u(this,"mainStore");u(this,"getAll",async()=>{try{return await P.getAll()}catch(e){return this.mainStore.setErrorFromAxios(e),[]}});u(this,"create",async e=>{try{return await P.create(e)}catch(a){return this.mainStore.setErrorFromAxios(a),null}});u(this,"delete",async e=>{try{await P.delete(e)}catch(a){this.mainStore.setErrorFromAxios(a)}});Q(this,{mainStore:!1}),this.mainStore=e}}class Ot{constructor(){u(this,"error",null);u(this,"layout");u(this,"authors");u(this,"posts");u(this,"setError",e=>{this.error=e});u(this,"setErrorFromAxios",e=>{console.warn("request error",e),this.error=_t(e)});u(this,"clearError",()=>{this.error=null});this.layout=new vt,this.authors=new gt(this),this.posts=new xt(this),Q(this,{authors:!1,posts:!1})}}const yt=t=>{var a,o;const e=((o=(a=t==null?void 0:t.response)==null?void 0:a.data)==null?void 0:o.message)||(t==null?void 0:t.message);return Array.isArray(e)?e.join(" "):""+e},_t=t=>yt(t)||"Não foi possível realizar a solicitação",bt=c.createContext(new Ot),X=()=>c.useContext(bt),Pt="_Page_vp7hv_1",jt="_Logo_vp7hv_4",$t="_Content_vp7hv_13",Z={Page:Pt,Logo:jt,Content:$t},{Content:Rt,Sider:qt}=te,St=Object.values(Re).map(({icon:t,path:e,name:a})=>({label:a,key:e,icon:r.jsx(t,{})})),Ct=({children:t,title:e,subtitle:a,className:o,...n})=>{const s=Ye(),l=We(),{error:i,clearError:m,layout:{collapsed:p,setCollapsed:d}}=X(),x=(s.pathname||"").slice(1),O=Re[x]||{};return r.jsx(Ee,{locale:st,children:r.jsxs(te,{className:`${Z.Page} ${o}`,...n,children:[r.jsxs(qt,{collapsible:!0,collapsed:p,onCollapse:d,children:[r.jsx("div",{className:Z.Logo}),r.jsx(Te,{theme:"dark",selectedKeys:[O.id],mode:"inline",items:St,onClick:({key:f})=>l(f)})]}),r.jsx(te,{children:r.jsxs(ke,{title:e,subTitle:a,children:[r.jsx(re,{title:"Erro!",open:i!==null,onOk:m,onCancel:m,children:i}),r.jsx(Rt,{className:Z.Content,children:t})]})})]})})},ae=G(Ct);var Y={exports:{}},C={},W={},ve;function At(){if(ve)return W;ve=1,Object.defineProperty(W,"__esModule",{value:!0});var t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};return W.default=t,W}var xe;function Dt(){if(xe)return C;xe=1;var t=M().default,e=w().default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var a=e(I()),o=t(E()),n=e(At()),s=e(F()),l=function(p,d){return o.createElement(s.default,(0,a.default)({},p,{ref:d,icon:n.default}))},i=o.forwardRef(l);return C.default=i,C}var ge;function Mt(){return ge||(ge=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const a=o(Dt());function o(s){return s&&s.__esModule?s:{default:s}}const n=a;e.default=n,t.exports=n}(Y,Y.exports)),Y.exports}var wt=Mt();const qe=T(wt),It=({onChange:t,...e})=>{const[a,o]=c.useState(!1),[n,s]=c.useState([]),{authors:{getAll:l}}=X();return c.useEffect(()=>{let i=!1;return o(!0),(async()=>{const p=await l();i||(s(p.map(d=>({label:`${d.name} (${d.nickname})`,value:d.id}))),o(!1))})(),()=>{i=!0}},[l]),r.jsx(Le,{loading:a,...e,options:n,onChange:t})},Ft=G(It),Et={rowKey:"key",pagination:{showQuickJumper:!0},dateFormatter:"string",search:!1},Se={labelCol:{span:8},wrapperCol:{span:16}},Ce={wrapperCol:{offset:8,span:16}},j=[{required:!0}],{TextArea:Tt}=D,kt=({onSubmit:t,className:e,...a})=>{const[o,n]=c.useState(!1),[s,l]=c.useState(!1),[i]=v.useForm(),m=async x=>{l(!0);const O={title:x.title,body:x.body};await t(x.author,O),l(!1),n(!1)},p=()=>{i.resetFields()},d=()=>{i.resetFields(),l(!1),n(!0)};return r.jsxs(r.Fragment,{children:[r.jsx(g,{type:"primary",onClick:d,icon:r.jsx(qe,{}),className:e,...a,children:"Novo"}),r.jsx(re,{title:"Nova Postagem",open:o,footer:null,onCancel:()=>n(!1),children:r.jsxs(v,{...Se,form:i,name:"control-hooks",onFinish:m,children:[r.jsx(v.Item,{name:"title",label:"Título",rules:j,children:r.jsx(D,{})}),r.jsx(v.Item,{name:"body",label:"Texto",rules:j,children:r.jsx(Tt,{})}),r.jsx(v.Item,{name:"author",label:"Autor",rules:j,children:r.jsx(Ft,{})}),r.jsxs(v.Item,{...Ce,children:[r.jsx(g,{type:"primary",htmlType:"submit",loading:s,children:"Criar"}),r.jsx(g,{htmlType:"button",onClick:p,children:"Limpar"})]})]})})]})};var K={exports:{}},A={},V={},Oe;function Lt(){if(Oe)return V;Oe=1,Object.defineProperty(V,"__esModule",{value:!0});var t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};return V.default=t,V}var ye;function Nt(){if(ye)return A;ye=1;var t=M().default,e=w().default;Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var a=e(I()),o=t(E()),n=e(Lt()),s=e(F()),l=function(p,d){return o.createElement(s.default,(0,a.default)({},p,{ref:d,icon:n.default}))},i=o.forwardRef(l);return A.default=i,A}var _e;function zt(){return _e||(_e=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const a=o(Nt());function o(s){return s&&s.__esModule?s:{default:s}}const n=a;e.default=n,t.exports=n}(K,K.exports)),K.exports}var Ht=zt();const Ae=T(Ht),Ut="_PostCard_h9jkk_1",Bt={PostCard:Ut},Yt=({id:t,title:e,body:a,creationDate:o,authorName:n,authorNickname:s,deletePost:l,className:i,...m})=>r.jsx(Ne,{...m,className:`${Bt.PostCard} ${i}`,title:e,extra:r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["Autor: ",n," (",s,")"]}),r.jsxs("div",{children:["Data: ",new Date(o).toLocaleDateString()]})]}),actions:[r.jsx(Pe,{title:"Title",onConfirm:()=>l(t),children:r.jsx(je,{title:"Apagar",placement:"bottom",children:r.jsx(g,{type:"primary",icon:r.jsx(Ae,{}),size:"small",danger:!0,children:"Apagar"})})})],children:a}),Wt="_PostsPage_y90nr_1",Kt="_HeaderInputWrapper_y90nr_5",Vt="_HeaderButtonsWrapper_y90nr_8",ee={PostsPage:Wt,HeaderInputWrapper:Kt,HeaderButtonsWrapper:Vt},{Search:Jt}=D,Qt=()=>{const{posts:t}=X(),[e,a]=c.useState(!1),[o,n]=c.useState(!0),[s,l]=c.useState(""),[i,m]=c.useState([]),p=f=>{l(f),n(!0)},d=c.useCallback(async()=>await t.getAll(s),[t,s]);c.useEffect(()=>{let f=!1;return o&&(a(!0),d().then($=>{f||(m($),n(!1),a(!1))})),()=>{f=!0}},[o,d]);const x=c.useCallback(async(f,$)=>{await t.create(f,$),n(!0)},[t]),O=c.useCallback(async f=>{await t.delete(f),n(!0)},[t]);return r.jsx(ae,{title:"Postagens",className:ee.PostsPage,children:r.jsx(ze,{loading:e,size:"small",dataSource:i,header:r.jsxs(r.Fragment,{children:[r.jsx("div",{className:ee.HeaderInputWrapper,children:r.jsx(Jt,{placeholder:"Busque por autor",onSearch:p,enterButton:!0,allowClear:!0,disabled:!s&&i.length===0})}),r.jsxs("div",{className:ee.HeaderButtonsWrapper,children:[r.jsx(kt,{onSubmit:x}),r.jsx(g,{type:"text",shape:"circle",size:"middle",icon:r.jsx(rt,{}),loading:e,onClick:()=>n(!0)})]})]}),renderItem:({id:f,title:$,body:De,creationDate:Me,author:y})=>r.jsx(Yt,{id:f,title:$,body:De,creationDate:Me,authorName:y==null?void 0:y.name,authorNickname:y==null?void 0:y.nickname,deletePost:O},f)})})},be=G(Qt),Gt=t=>r.jsx(He,{format:"DD/MM/YYYY",...t}),Xt=({onSubmit:t,className:e,...a})=>{const[o,n]=c.useState(!1),[s,l]=c.useState(!1),[i]=v.useForm(),m=async x=>{l(!0);const O={...x,birthDate:x.birthDate.format("YYYY-MM-DD")};await t(O),l(!1),n(!1)},p=()=>{i.resetFields()},d=()=>{i.resetFields(),l(!1),n(!0)};return r.jsxs(r.Fragment,{children:[r.jsx(g,{type:"primary",onClick:d,icon:r.jsx(qe,{}),className:e,...a,children:"Novo"}),r.jsx(re,{title:"Novo Author",open:o,footer:null,onCancel:()=>n(!1),children:r.jsxs(v,{...Se,form:i,name:"control-hooks",onFinish:m,children:[r.jsx(v.Item,{name:"name",label:"Nome",rules:j,children:r.jsx(D,{})}),r.jsx(v.Item,{name:"nickname",label:"Apelido",rules:j,children:r.jsx(D,{})}),r.jsx(v.Item,{name:"birthDate",label:"Data de Nascimento",rules:j,children:r.jsx(Gt,{})}),r.jsxs(v.Item,{...Ce,children:[r.jsx(g,{type:"primary",htmlType:"submit",loading:s,children:"Criar"}),r.jsx(g,{htmlType:"button",onClick:p,children:"Limpar"})]})]})})]})},Zt=[{title:"Nome",dataIndex:"name",key:"name",search:!1},{title:"Apelido",dataIndex:"nickname",key:"nickname",search:!1},{title:"Data de Nascimento",dataIndex:"birthDate",key:"birthDate",search:!1,renderText:t=>new Date(t).toLocaleDateString()}],er=t=>Zt.concat({title:"Ações",key:"actions",render:(e,a)=>[r.jsx("div",{className:"cell-button-group",children:r.jsx(Pe,{title:"Title",onConfirm:()=>t(a.id),children:r.jsx(je,{title:"Apagar",placement:"bottom",children:r.jsx(g,{type:"primary",shape:"circle",icon:r.jsx(Ae,{}),size:"small",danger:!0})})})},"bg")]}),tr=()=>{const{authors:t}=X(),e=c.useRef(),a=c.useCallback(async()=>({data:await t.getAll(),success:!0}),[t]),o=c.useCallback(async l=>{var i;await t.create(l),(i=e==null?void 0:e.current)==null||i.reload()},[t]),n=c.useCallback(async l=>{var i;await t.delete(l),(i=e==null?void 0:e.current)==null||i.reload()},[t]),s=c.useMemo(()=>er(n),[n]);return r.jsx(ae,{title:"Autores",children:r.jsx(Ue,{...Et,actionRef:e,headerTitle:"Autores",rowKey:"id",request:a,columns:s,toolBarRender:()=>[r.jsx(Xt,{onSubmit:o},"ea")]})})},rr=G(tr),ar=()=>r.jsx(ae,{title:"Página não encontrada"}),nr=Ke([{path:J.HOME,element:r.jsx(be,{})},{path:J.POSTS,element:r.jsx(be,{})},{path:J.AUTHORS,element:r.jsx(rr,{})},{path:"*",element:r.jsx(ar,{})}],{basename:"/blog-posts/"}),sr=()=>r.jsx(Ve,{router:nr});Ge.createRoot(document.getElementById("root")).render(r.jsx(c.StrictMode,{children:r.jsx(sr,{})}));
